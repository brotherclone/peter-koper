-@memory = memory
-@categories = categories
-@tags = tags

.modals
  = render :partial => "components/movie_modal"
  = render :partial => "components/document_modal"
.memory-container
  - if !@memory.video and !@memory.pdf
    .memory-image-container.loading{:style=> 'background-image: url('+ @memory.image.to_s+');'}
  -elsif @memory.video and !@memory.pdf
    .memory-video-container.loading{:style=> 'background-image: url('+ @memory.image.to_s+');'}
      .memory-video-overlay
        %i
          .fas.fa-circle-play
      = render :partial => "components/video_modal", :locals=>{:modal_id=> "modal_#{@memory.id.to_s}",
                                                             :modal_title=> @memory.title,
                                                             :video_player_id=>"video_player_#{@memory.video.id.to_s}",
                                                             :video_file_id=> video_id(@memory.video.file)}
  -else
    .memory-pdf-container.loading{:style=> 'background-image: url('+ @memory.image.to_s+');'}
      .memory-pdf-overlay
        %i
          .fas.fa-file
  .memory-text-container
    %h3.memory-date
      = display_fuzzy_date(@memory.occurrence, @memory.fuzzy_date)
    %h2.memory-title
      =@memory.title
    %h4.memory-categories
      -@categories.each do |c|
        %span.memory-category
          = c.name
    %p.memory-body
      = (@memory.body).try(:html_safe)
    %ul.memory-tags
      - @tags.each do |t|
        %span.memory-tag
          = t.name

